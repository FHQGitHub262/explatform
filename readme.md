### About it
这个项目虽然是开源了，但是可能并不能解决什么问题，只是希望能把我们分析这个工程的过程，和开发记录保留下来（20年后吹给儿子们听？）

### File Struct
- api：网络部分的接口开发
- sql：数据库脚本
- drive：单片机驱动
- docker：容器
- soc：单片机
- analysis：需求分析
- web：前端
- hardware：清流

-------------------------

### 7.21 schedule
1. 确定信号流程图：
老师确认实验进度，服务器将进度存入数据库，开始实验，网关收到开关请求，控制组网给打分机上电，学生扫码后打分机上传学生信息，服务器发送实验信息到打分机，同时将验证结果发给网关，网关控制组网给实验桌上电。
实验结束，网关控制组网给打分机和实验桌同时断电。

2. 网关拟采用mqtt协议与服务器进行通信：
网关订阅此房间开关的主题，当web服务器发布有关开关的消息时，mqtt服务器转发此消息给网关。
此协议十分方便，若采用HTTP协议，需要轮询服务器以获得开关信息，实时性差；若采用socket连接，较不稳定。
现已用ESP8266证明mqtt协议可行性。

3. 打分机硬件改版设计完成：
    1. 更换新的WiFi模块，采用邮票口模块，减小体积
    2. 采用复位芯片进行复位
    3. 增加过压保护芯片，自带过压过流保护，瞬态抑制，防止热插拔
    4. 将电控部分去除
    5. 保险丝改成电子熔丝

4. 增加开关盒子的硬件需求：
    1. 开关盒子能独立控制某些贵重或大功率一起仪器
    2. 开关盒子具有过压保护，功率检测等功能
    3. 开关盒子直接与电源线相连，避免学生可以取下开关盒子直接插在插座上

5. 网络端完成对需求的拆解
    1. 对网页部分功能进行拆解，按照事务进行划分
    2. 确认实验台部分业务流程，同样拆分为事务
    3. 根据上述两点确认微信部分需实现的功能

6. 编写api文档
    1. 在第5条基础上，为便于单片机部分开发，已经提前开始编写api文档
    2. 创建基于http的mock服务器，便于单片机模拟业务流程
    3. 创建基于mqtt的测试服务器，便于单片机开发
